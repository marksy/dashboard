<article>
  <h1 class="heading-2" ng-hide="true">home</h1>
  <img ng-src="{{photoURL}}" alt="{{displayName}}" title="{{displayName}}" class="user-avatar">
  <ul ng-show="authData">
    <li class="panel columns" ng-class="{loading: loadingWeatherData}" ng-show="objMods.modules[0].active">
      <div class="icon column">
        <img ng-src="{{weatherData.condition.icon}}" alt="{{weatherData.condition.text}}" class="icon-weather">
      </div>
      <div class="text column">
        <p>Current weather for {{weatherLocation}}</p>
        <p ng-if="objMods.modules[0].unit === 'c'">{{weatherData.condition.text}}, {{weatherData.temp_c}}˚c, wind {{weatherData.wind_kph}} kph<span ng-if="weatherData.precip_mm !== 0">, rain {{weatherData.precip_mm}}mm</span></p>
        <p ng-if="objMods.modules[0].unit === 'f'">{{weatherData.condition.text}}, {{weatherData.temp_f}}˚f, wind {{weatherData.wind_mph}} mph<span ng-if="weatherData.precip_in !== 0">, rain {{weatherData.precip_in}}"</span></p>
      </div>
        <i class="icon-loading">loading...</i>
    </li>
    <li class="panel" ng-show="objMods.modules[1].active">
      <ul class="tube-status" ng-if="objMods.modules[1].tubeFaults">
        <li ng-repeat="line in tube" ng-if="line.lineStatuses[0].statusSeverityDescription !== 'Good Service'">
            <p><span class="tube-{{line.id}}">{{line.name}}</span> has {{line.lineStatuses[0].statusSeverityDescription}}</p>
        </li>
      </ul>
      <div ng-show="objMods.modules[1].lines[0].origin !== ''">
        <p>Next trains from {{stationName}}</p>
      <ul>
        <!-- track by $index doing weird things to the ng-if -->
        <li ng-repeat="train in trainsArriving | orderBy: 'timeToStation' track by $index" ng-if="train.direction === 'inbound'">
          <p><clean-station label="train.destinationName"></clean-station>  (<clean-line label="train.lineName"></clean-line>) expected at {{train.expectedArrival | date:'HH:mm'}} on {{train.platformName}}</p>
        </li>
      </ul>
    </div>

    </li>
    <li class="panel" ng-show="objMods.modules[2].active">
      <p>1 {{objMods.modules[2].localCurrency}} is trading at 1.012 {{objMods.modules[2].foreignCurrency}} <i class="fa fa-caret-down failure"></i></p>

    </li>
    <li class="panel" ng-show="objMods.modules[3].active">
      <p>twitter: {{objMods.modules[3].user}}</p>
    </li>
    <li class="panel" ng-show="objMods.modules[4].active">
      <p>strava: {{objMods.modules[4].key}}</p>
    </li>

    <!-- <li ng-repeat="item in objMods.modules track by $index" ng-show="item.active">
      <p>{{item.name}}
        <span ng-if="item.name === 'weather'">for {{item.location}}</span>
        <span ng-if="item.name === 'tfl'">for the lines:</span>
        <ul ng-if="item.name === 'tfl'"> <li ng-repeat="zip in item.lines track by $index">hi</li></ul>
      </p>
    </li> -->
  </ul>
  <!-- <i ng-hide="systemOnline" class="fa fa-bolt system-offline"></i> -->
</article>
